# Use Ctrl+Space as prefix
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix   # lets you pass the prefix to nested tmux sessions

# Reload config with Prefix + r
unbind r
bind r source-file ~/.tmux.conf \; display-message "Config Reloaded!"

# Enable mouse mode
set -g mouse on

set-window-option -g mode-keys vi

#set-option -g status-position top

# Use Vim-like keys for pane navigation (Prefix + h,j,k,l)
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# Use Vim-like keys for pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Start window numbering at 1 instead of 0
set -g base-index 1

# Start pane numbering at 1 instead of 0
setw -g pane-base-index 1

# --- Pane borders (Catppuccin-ish, still minimal) ---
set -g pane-border-style 'fg=white'
set -g pane-active-border-style 'fg=red'

# --- Status bar base style ---
set -g status-style bg=default,fg=black
set -g status-left ""

# Right side: base style = yellow-ish box with session name
set -g status-right "#[bg=yellow,fg=black] #S "

# Make default styles neutral (we override in format)
setw -g window-status-style "fg=#cdd6f4,bg=#1e1e2e"
setw -g window-status-current-style "fg=default,bg=default"

# Inactive windows
setw -g window-status-style "fg=#cdd6f4,bg=#1e1e2e"
setw -g window-status-format ' #I #W '

# Current window: Catppuccin mauve by default
setw -g window-status-current-style "fg=#11111b,bg=#cba6f7"

# When prefix is active, temporarily change bg to Catppuccin red
setw -g window-status-current-format '#{?client_prefix,#[bg=#f38ba8],} #I #W #F #[default]'

# Bell style still red, fits with prefix color
setw -g window-status-bell-style 'fg=yellow bg=red bold'

# Options
#set -g renumber-windows on
bind | split-window -h
bind - split-window -v

# Modern, correct TERM inside tmux (not the old screen-256color)
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ',xterm-256color:Tc'
